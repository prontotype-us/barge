// Generated by CoffeeScript 2.4.1
exports.reverse = function(l) {
  var i, j, ref, reversed;
  reversed = [];
  for (i = j = ref = l.length - 1; (ref <= 0 ? j <= 0 : j >= 0); i = ref <= 0 ? ++j : --j) {
    reversed.push(l[i]);
  }
  return reversed;
};

exports.toPromise = function(cb_fn) {
  return function(...args) {
    return new Promise(function(resolve, reject) {
      var err;
      try {
        return cb_fn(...args, function(err, result) {
          if (err) {
            return reject(err);
          } else {
            return resolve(result);
          }
        });
      } catch (error) {
        err = error;
        return reject(err);
      }
    });
  };
};

exports.fromPromise = function(promise_fn, cb) {
  return promise_fn().then(function(result) {
    return cb(null, result);
  }).catch(function(err) {
    return cb(err);
  });
};

exports.toPromises = function(cb_fns) {
  var as_promises, cb_fn, key;
  as_promises = {};
  for (key in cb_fns) {
    cb_fn = cb_fns[key];
    as_promises[key] = exports.toPromise(cb_fn);
  }
  return as_promises;
};

exports.errorToObj = function(err) {
  var obj;
  obj = {};
  Object.getOwnPropertyNames(err).forEach(function(key) {
    return obj[key] = err[key];
  });
  return obj;
};
